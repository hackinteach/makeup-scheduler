[debug] [2018-05-15T18:10:43.653Z] ----------------------------------------------------------------------
[debug] [2018-05-15T18:10:43.655Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2018-05-15T18:10:43.656Z] CLI Version:   3.18.4
[debug] [2018-05-15T18:10:43.656Z] Platform:      darwin
[debug] [2018-05-15T18:10:43.656Z] Node Version:  v8.11.1
[debug] [2018-05-15T18:10:43.656Z] Time:          Wed May 16 2018 01:10:43 GMT+0700 (+07)
[debug] [2018-05-15T18:10:43.656Z] ----------------------------------------------------------------------
[debug] 
[debug] [2018-05-15T18:10:43.665Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2018-05-15T18:10:43.665Z] > authorizing via signed-in user
[debug] [2018-05-15T18:10:43.667Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/makeup-scheduler  
  
 Wed May 16 2018 01:10:43 GMT+0700 (+07)
[debug] [2018-05-15T18:10:44.959Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:44.960Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/makeup-scheduler/tokens  
  
 Wed May 16 2018 01:10:44 GMT+0700 (+07)
[debug] [2018-05-15T18:10:45.912Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'makeup-scheduler'...
[info] 
[info] i  deploying functions
[debug] [2018-05-15T18:10:48.999Z] > [functions] package.json contents: {
  "name": "email-user-function",
  "description": "Send an email to new users and users who delete their account",
  "dependencies": {
    "nodemailer": "^4.0.1",
    "firebase-admin": "~5.11.0",
    "firebase-functions": "^1.0.0"
  },
  "devDependencies": {
    "eslint": "^4.13.1",
    "eslint-plugin-promise": "^3.6.0"
  },
  "scripts": {
    "lint": "./node_modules/.bin/eslint --max-warnings=0 .",
    "serve": "firebase serve --only functions",
    "shell": "firebase experimental:functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2018-05-15T18:10:49.000Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/makeup-scheduler?view=CONSUMER_VIEW  
  
 Wed May 16 2018 01:10:49 GMT+0700 (+07)
[debug] [2018-05-15T18:10:49.001Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/makeup-scheduler?view=CONSUMER_VIEW  
  
 Wed May 16 2018 01:10:49 GMT+0700 (+07)
[debug] [2018-05-15T18:10:50.746Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:50.839Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2018-05-15T18:10:50.840Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/makeup-scheduler  
  
 Wed May 16 2018 01:10:50 GMT+0700 (+07)
[debug] [2018-05-15T18:10:52.234Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:52.234Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/392759807569:getServerAppConfig  
  
 Wed May 16 2018 01:10:52 GMT+0700 (+07)
[debug] [2018-05-15T18:10:53.156Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2018-05-15T18:10:53.158Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/makeup-scheduler/configs  
  
 Wed May 16 2018 01:10:53 GMT+0700 (+07)
[debug] [2018-05-15T18:10:53.674Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:53.675Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/makeup-scheduler/configs/gmail/variables  
  
 Wed May 16 2018 01:10:53 GMT+0700 (+07)
[debug] [2018-05-15T18:10:54.098Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:54.099Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/makeup-scheduler/configs/gmail/variables/password  
  
 Wed May 16 2018 01:10:54 GMT+0700 (+07)
[debug] [2018-05-15T18:10:54.099Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/makeup-scheduler/configs/gmail/variables/email  
  
 Wed May 16 2018 01:10:54 GMT+0700 (+07)
[debug] [2018-05-15T18:10:54.543Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:54.546Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (40.38 KB) for uploading
[debug] [2018-05-15T18:10:55.030Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/makeup-scheduler/locations/us-central1/functions:generateUploadUrl  
  
 Wed May 16 2018 01:10:55 GMT+0700 (+07)
[debug] [2018-05-15T18:10:55.850Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:55.850Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-e10ecada-dc19-4139-ba55-772f545890a1/f7fd5ce1-b26a-46c3-8f3c-2b38959b19f8.zip?GoogleAccessId=392759807569@cloudservices.gserviceaccount.com&Expires=1526409655&Signature=aF4SKIORCItKrqMM94le9Jfe8UuCa2t2hJ59xaNDUnBsW1a3U1S7zpT4RKbFEAqJsSFSzvBzv8JFgasnGglblfWg5oHv0S4SwWuh%2BKsk3eHsFnPtboLzgCeHPkkyIhCb3He9kPN8EzA5zNQjQ8zzuJPj9Z4S09B2ZCC4UQom5KeOYhHx2JQA1vc%2BhRdPNJzoGAU7T8nrIZZ6%2B7PO9MpZqppqScmLI7zpljC%2F5fdjGIFsluU8IftRjE9r2coOV%2B8qllnuqQyfJILxw4bm3aMvD2zy9k8m4SzGF04JbQigT6EssDgYiDERluRl%2FhImV35TDS35Lqc251ZbJ%2FBxMyf9gg%3D%3D  
 ReadStream {
  _readableState: 
   ReadableState {
     objectMode: false,
     highWaterMark: 65536,
     buffer: BufferList { head: [Object], tail: [Object], length: 1 },
     length: 41347,
     pipes: null,
     pipesCount: 0,
     flowing: null,
     ended: true,
     endEmitted: false,
     reading: false,
     sync: false,
     needReadable: false,
     emittedReadable: true,
     readableListening: false,
     resumeScheduled: false,
     destroyed: false,
     defaultEncoding: 'utf8',
     awaitDrain: 0,
     readingMore: false,
     decoder: null,
     encoding: null },
  readable: true,
  domain: null,
  _events: { end: [Function] },
  _eventsCount: 1,
  _maxListeners: undefined,
  path: '/var/folders/_y/lgnxn60j0zd64n9k5q0yckkr0000gn/T/firebase-functions-37402fcy77o03jlxI.zip',
  fd: 19,
  flags: 'r',
  mode: 438,
  start: 0,
  end: Infinity,
  autoClose: true,
  pos: 131072,
  bytesRead: 41347 } 
 Wed May 16 2018 01:10:55 GMT+0700 (+07)
[debug] [2018-05-15T18:10:56.695Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[debug] [2018-05-15T18:10:56.699Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/makeup-scheduler/locations/us-central1/functions  
  
 Wed May 16 2018 01:10:56 GMT+0700 (+07)
[debug] [2018-05-15T18:10:57.209Z] <<< HTTP RESPONSE 200
[info] i  functions: updating function sendWelcomeEmail...
[debug] [2018-05-15T18:10:57.211Z] Trigger is:  {"eventTrigger":{"resource":"projects/makeup-scheduler","eventType":"providers/firebase.auth/eventTypes/user.create","service":"firebaseauth.googleapis.com"}}
[info] i  functions: updating function sendByeEmail...
[debug] [2018-05-15T18:10:57.212Z] Trigger is:  {"eventTrigger":{"resource":"projects/makeup-scheduler","eventType":"providers/firebase.auth/eventTypes/user.delete","service":"firebaseauth.googleapis.com"}}
[info] i  functions: updating function fireEmail...
[debug] [2018-05-15T18:10:57.212Z] Trigger is:  {"eventTrigger":{"resource":"projects/_/instances/makeup-scheduler/refs/emailProxy","eventType":"providers/google.firebase.database/eventTypes/ref.update","service":"firebaseio.com"}}
[debug] [2018-05-15T18:10:57.214Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/makeup-scheduler/locations/us-central1/functions/sendWelcomeEmail 
query params: {"updateMask":"sourceUploadUrl,name,labels,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 
 { sourceUploadUrl: 'https://storage.googleapis.com/gcf-upload-us-central1-e10ecada-dc19-4139-ba55-772f545890a1/f7fd5ce1-b26a-46c3-8f3c-2b38959b19f8.zip?GoogleAccessId=392759807569@cloudservices.gserviceaccount.com&Expires=1526409655&Signature=aF4SKIORCItKrqMM94le9Jfe8UuCa2t2hJ59xaNDUnBsW1a3U1S7zpT4RKbFEAqJsSFSzvBzv8JFgasnGglblfWg5oHv0S4SwWuh%2BKsk3eHsFnPtboLzgCeHPkkyIhCb3He9kPN8EzA5zNQjQ8zzuJPj9Z4S09B2ZCC4UQom5KeOYhHx2JQA1vc%2BhRdPNJzoGAU7T8nrIZZ6%2B7PO9MpZqppqScmLI7zpljC%2F5fdjGIFsluU8IftRjE9r2coOV%2B8qllnuqQyfJILxw4bm3aMvD2zy9k8m4SzGF04JbQigT6EssDgYiDERluRl%2FhImV35TDS35Lqc251ZbJ%2FBxMyf9gg%3D%3D',
  name: 'projects/makeup-scheduler/locations/us-central1/functions/sendWelcomeEmail',
  labels: { 'deployment-tool': 'cli-firebase' },
  eventTrigger: 
   { resource: 'projects/makeup-scheduler',
     eventType: 'providers/firebase.auth/eventTypes/user.create',
     service: 'firebaseauth.googleapis.com' } } 
 Wed May 16 2018 01:10:57 GMT+0700 (+07)
[debug] [2018-05-15T18:10:57.217Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/makeup-scheduler/locations/us-central1/functions/sendByeEmail 
query params: {"updateMask":"sourceUploadUrl,name,labels,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 
 { sourceUploadUrl: 'https://storage.googleapis.com/gcf-upload-us-central1-e10ecada-dc19-4139-ba55-772f545890a1/f7fd5ce1-b26a-46c3-8f3c-2b38959b19f8.zip?GoogleAccessId=392759807569@cloudservices.gserviceaccount.com&Expires=1526409655&Signature=aF4SKIORCItKrqMM94le9Jfe8UuCa2t2hJ59xaNDUnBsW1a3U1S7zpT4RKbFEAqJsSFSzvBzv8JFgasnGglblfWg5oHv0S4SwWuh%2BKsk3eHsFnPtboLzgCeHPkkyIhCb3He9kPN8EzA5zNQjQ8zzuJPj9Z4S09B2ZCC4UQom5KeOYhHx2JQA1vc%2BhRdPNJzoGAU7T8nrIZZ6%2B7PO9MpZqppqScmLI7zpljC%2F5fdjGIFsluU8IftRjE9r2coOV%2B8qllnuqQyfJILxw4bm3aMvD2zy9k8m4SzGF04JbQigT6EssDgYiDERluRl%2FhImV35TDS35Lqc251ZbJ%2FBxMyf9gg%3D%3D',
  name: 'projects/makeup-scheduler/locations/us-central1/functions/sendByeEmail',
  labels: { 'deployment-tool': 'cli-firebase' },
  eventTrigger: 
   { resource: 'projects/makeup-scheduler',
     eventType: 'providers/firebase.auth/eventTypes/user.delete',
     service: 'firebaseauth.googleapis.com' } } 
 Wed May 16 2018 01:10:57 GMT+0700 (+07)
[debug] [2018-05-15T18:10:57.218Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/makeup-scheduler/locations/us-central1/functions/fireEmail 
query params: {"updateMask":"sourceUploadUrl,name,labels,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 
 { sourceUploadUrl: 'https://storage.googleapis.com/gcf-upload-us-central1-e10ecada-dc19-4139-ba55-772f545890a1/f7fd5ce1-b26a-46c3-8f3c-2b38959b19f8.zip?GoogleAccessId=392759807569@cloudservices.gserviceaccount.com&Expires=1526409655&Signature=aF4SKIORCItKrqMM94le9Jfe8UuCa2t2hJ59xaNDUnBsW1a3U1S7zpT4RKbFEAqJsSFSzvBzv8JFgasnGglblfWg5oHv0S4SwWuh%2BKsk3eHsFnPtboLzgCeHPkkyIhCb3He9kPN8EzA5zNQjQ8zzuJPj9Z4S09B2ZCC4UQom5KeOYhHx2JQA1vc%2BhRdPNJzoGAU7T8nrIZZ6%2B7PO9MpZqppqScmLI7zpljC%2F5fdjGIFsluU8IftRjE9r2coOV%2B8qllnuqQyfJILxw4bm3aMvD2zy9k8m4SzGF04JbQigT6EssDgYiDERluRl%2FhImV35TDS35Lqc251ZbJ%2FBxMyf9gg%3D%3D',
  name: 'projects/makeup-scheduler/locations/us-central1/functions/fireEmail',
  labels: { 'deployment-tool': 'cli-firebase' },
  eventTrigger: 
   { resource: 'projects/_/instances/makeup-scheduler/refs/emailProxy',
     eventType: 'providers/google.firebase.database/eventTypes/ref.update',
     service: 'firebaseio.com' } } 
 Wed May 16 2018 01:10:57 GMT+0700 (+07)
[debug] [2018-05-15T18:10:57.748Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:58.067Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:58.144Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:58.146Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kV2VsY29tZUVtYWlsL1MzXzVFQUd5NW9V  
  
 Wed May 16 2018 01:10:58 GMT+0700 (+07)
[debug] [2018-05-15T18:10:58.146Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kQnllRW1haWwvZ0czTm5JNHA1Wjg  
  
 Wed May 16 2018 01:10:58 GMT+0700 (+07)
[debug] [2018-05-15T18:10:58.147Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9maXJlRW1haWwvV0ZUckJEWFNYWUU  
  
 Wed May 16 2018 01:10:58 GMT+0700 (+07)
[debug] [2018-05-15T18:10:58.581Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:58.892Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:10:58.901Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:00.586Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kQnllRW1haWwvZ0czTm5JNHA1Wjg  
  
 Wed May 16 2018 01:11:00 GMT+0700 (+07)
[debug] [2018-05-15T18:11:00.897Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kV2VsY29tZUVtYWlsL1MzXzVFQUd5NW9V  
  
 Wed May 16 2018 01:11:00 GMT+0700 (+07)
[debug] [2018-05-15T18:11:00.902Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9maXJlRW1haWwvV0ZUckJEWFNYWUU  
  
 Wed May 16 2018 01:11:00 GMT+0700 (+07)
[debug] [2018-05-15T18:11:01.308Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:01.320Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:01.618Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:03.314Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kV2VsY29tZUVtYWlsL1MzXzVFQUd5NW9V  
  
 Wed May 16 2018 01:11:03 GMT+0700 (+07)
[debug] [2018-05-15T18:11:03.320Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kQnllRW1haWwvZ0czTm5JNHA1Wjg  
  
 Wed May 16 2018 01:11:03 GMT+0700 (+07)
[debug] [2018-05-15T18:11:03.619Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9maXJlRW1haWwvV0ZUckJEWFNYWUU  
  
 Wed May 16 2018 01:11:03 GMT+0700 (+07)
[debug] [2018-05-15T18:11:04.113Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:04.113Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:04.114Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:06.115Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kV2VsY29tZUVtYWlsL1MzXzVFQUd5NW9V  
  
 Wed May 16 2018 01:11:06 GMT+0700 (+07)
[debug] [2018-05-15T18:11:06.116Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9maXJlRW1haWwvV0ZUckJEWFNYWUU  
  
 Wed May 16 2018 01:11:06 GMT+0700 (+07)
[debug] [2018-05-15T18:11:06.116Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kQnllRW1haWwvZ0czTm5JNHA1Wjg  
  
 Wed May 16 2018 01:11:06 GMT+0700 (+07)
[debug] [2018-05-15T18:11:06.830Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:06.840Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:06.843Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:08.832Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kQnllRW1haWwvZ0czTm5JNHA1Wjg  
  
 Wed May 16 2018 01:11:08 GMT+0700 (+07)
[debug] [2018-05-15T18:11:08.840Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9maXJlRW1haWwvV0ZUckJEWFNYWUU  
  
 Wed May 16 2018 01:11:08 GMT+0700 (+07)
[debug] [2018-05-15T18:11:08.844Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kV2VsY29tZUVtYWlsL1MzXzVFQUd5NW9V  
  
 Wed May 16 2018 01:11:08 GMT+0700 (+07)
[debug] [2018-05-15T18:11:09.277Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:09.588Z] <<< HTTP RESPONSE 200
[warn] ⚠  functions[fireEmail]: Deployment error.
[info] Function load error: Code in file index.js can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'firebase'
    at Function.Module._resolveFilename (module.js:476:15)
    at Function.Module._load (module.js:424:25)
    at Module.require (module.js:504:17)
    at require (internal/module.js:20:19)
    at Object.<anonymous> (/user_code/index.js:19:18)
    at Module._compile (module.js:577:32)
    at Object.Module._extensions..js (module.js:586:10)
    at Module.load (module.js:494:32)
    at tryModuleLoad (module.js:453:12)
    at Function.Module._load (module.js:445:3)
[debug] [2018-05-15T18:11:09.593Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:11.283Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kQnllRW1haWwvZ0czTm5JNHA1Wjg  
  
 Wed May 16 2018 01:11:11 GMT+0700 (+07)
[debug] [2018-05-15T18:11:11.598Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kV2VsY29tZUVtYWlsL1MzXzVFQUd5NW9V  
  
 Wed May 16 2018 01:11:11 GMT+0700 (+07)
[debug] [2018-05-15T18:11:12.019Z] <<< HTTP RESPONSE 200
[warn] ⚠  functions[sendWelcomeEmail]: Deployment error.
[info] Function load error: Code in file index.js can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'firebase'
    at Function.Module._resolveFilename (module.js:476:15)
    at Function.Module._load (module.js:424:25)
    at Module.require (module.js:504:17)
    at require (internal/module.js:20:19)
    at Object.<anonymous> (/user_code/index.js:19:18)
    at Module._compile (module.js:577:32)
    at Object.Module._extensions..js (module.js:586:10)
    at Module.load (module.js:494:32)
    at tryModuleLoad (module.js:453:12)
    at Function.Module._load (module.js:445:3)
[debug] [2018-05-15T18:11:12.022Z] <<< HTTP RESPONSE 200
[debug] [2018-05-15T18:11:14.023Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZXVwLXNjaGVkdWxlci91cy1jZW50cmFsMS9zZW5kQnllRW1haWwvZ0czTm5JNHA1Wjg  
  
 Wed May 16 2018 01:11:14 GMT+0700 (+07)
[debug] [2018-05-15T18:11:14.751Z] <<< HTTP RESPONSE 200
